#!/usr/bin/env python3
# This file is placed in the Public Domain.


"control"


import os
import sys


from objx import Default
from objr import cmnd, parse, scan
from objd import modules


Cfg             = Default()
Cfg.dis         = ""
Cfg.opts        = ""
Cfg.mod         = "cmd,err,mod,thr"
Cfg.name        = __file__.rsplit(os.sep, maxsplit=1)[-1]
Cfg.wdr         = os.path.expanduser(f"~/.{Cfg.name}")
Cfg.mdir        = os.path.join(Cfg.wdr, "mods")
Cfg.pidfile     = os.path.join(Cfg.wdr, f"{Cfg.name}.pid")
Cfg.version     = "13"


def main():
    "main"
    parse(Cfg, " ".join(sys.argv[1:]))
    scan(modules, Cfg.mod)
    cmnd(Cfg.otxt, print)


if __name__ == "__main__":
    main()
